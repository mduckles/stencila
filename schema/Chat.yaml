title: Chat
"@id": stencila:Chat
nick: cht
extends: [CreativeWork, Executable]
category: works
status: under-development
description: A chat conversation, usually with a generative AI model.
markdown:
  derive: false
required:
  - content
core:
  - title
  - target
  - model
  - prompt
properties:
  target:
    '@id': schema:target
    description: The subject of the conversation.
    $comment: |
      The URI of the `Thing` (usually an `Article`) that is the subject of the conversation.  
    type: string
    patch:
      formats: [md, smd, myst, ipynb, qmd]
  model:
    "@id": stencila:model
    description: The name, and other options, for the model involved in the chat.
    $ref: InstructionModel
    walk: true
    patch:
      formats: [md, smd, myst, ipynb, qmd]
    dom:
      elem: div
  prompt:
    "@id": stencila:prompt
    description: The id of the system prompt to prefix chat messages with.
    type: string
    patch:
      formats: [md, smd, myst, ipynb, qmd]
  content:
    "@id": stencila:content
    description: The messages, and optionally other content, that make up the conversation.
    $comment: |
      Usually, a model chat will only contain `ChatMessage`s that alternate
      between user and model roles. However, other types of block content
      are permitted.
    type: array
    items:
      $ref: Block
    dom:
      elem: div
